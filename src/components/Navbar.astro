---
import { getPageInfo } from "@/utils/pages";
import { themeConfig } from "@/config";

const { title } = themeConfig.site;
const { isHome, isArticle, isTag, isAbout } = getPageInfo(Astro.url.pathname);

const isArticleActive = isArticle || isHome;
const isTagActive = isTag;
const isAboutActive = isAbout;

const TitleTag = isHome ? "h1" : "h2";

function getNavItemClass(isActive: boolean) {
  if (isActive) {
    return "underline decoration-wavy text-bold";
  }
  return "hover:text-primary hover:font-bold highlight-hover no-underline";
}

const navItems = [
  {
    href: "/",
    label: "随笔",
    className: getNavItemClass(isArticleActive),
  },
  {
    href: "/tags/",
    label: "标签",
    className: getNavItemClass(isTagActive),
  },
  {
    href: "/about/",
    label: "关于",
    className: getNavItemClass(isAboutActive),
  },
];
---

<header>
  <div class="items-center gap-x-8 mx-auto flex px-6 sm:px-8 py-4 lg:px-8">
    <TitleTag>
      <a id="site-title-link" href="/" class="no-underline">
        {title}
      </a>
    </TitleTag>
    <nav
      aria-label="Site Navigation"
      class:list={["gap-x-4 mr-5 text-2xl flex", "lg:text-2xl lg:bottom-0.75"]}
    >
      {
        navItems.map((item) => (
          <a href={item.href} class={item.className}>
            {item.label}
          </a>
        ))
      }
    </nav>
  </div>
</header>
